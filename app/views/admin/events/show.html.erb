<h2><%= t('crud.show!', resource: Admin::Event.model_name.human) %></h2>
<div class="event-block">
  <h3 class="event-title"><%= @admin_event.title %></h3>
  <div class="event-infos">
    <p class="glyphicon glyphicon-calendar">
      <%= @admin_event.start_date.strftime('%Y-%m-%d %H:%M') %> ï½ž <%= @admin_event.end_date.strftime('%Y-%m-%d %H:%M') %>
    </p>
    <p class="glyphicon glyphicon-map-marker">
      <%= @admin_event.place %>
      <span class="address"><%= @admin_event.address %></span>
    </p>
  </div>
  <div class="event-desc">
    <%= sanitize @admin_event.description %>
    <p class="map-name"><%= Admin::Event.human_attribute_name(:place) %></p>
    <div id="map-canvas" class="map-canvas"></div>
  </div>
</div>

<script>
  var map;
  var geocoder;
  function initialize() {
    geocoder = new google.maps.Geocoder();
    var mapOptions = {
      zoom: 15,
      center: new google.maps.LatLng(25.048796, 121.517443),
      scrollwheel: false
    };
    map = new google.maps.Map(document.getElementById('map-canvas'),
        mapOptions);
    var address = $(".address").text();
    geocoder.geocode( { 'address': address}, function(results, status) {
      if (status == google.maps.GeocoderStatus.OK) {
        map.setCenter(results[0].geometry.location);
        map.setZoom(15);
        marker = new google.maps.Marker({
            map: map,
            position: results[0].geometry.location
        });
      } else {
      }
    });
  }
  google.maps.event.addDomListener(window, 'load', initialize);
</script>
